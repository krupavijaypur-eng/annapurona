{
  "entities": {
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user of the Annapourna app.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user.",
          "format": "uuid"
        },
        "email": {
          "type": "string",
          "description": "User's email address.",
          "format": "email"
        },
        "name": {
          "type": "string",
          "description": "User's full name."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp indicating when the user account was created.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "email",
        "name",
        "createdAt"
      ]
    },
    "InventoryItem": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "InventoryItem",
      "type": "object",
      "description": "Represents a single food item in the user's inventory.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the inventory item."
        },
        "userId": {
          "type": "string",
          "description": "Reference to the User who owns this inventory item. (Relationship: User 1:N InventoryItem)"
        },
        "name": {
          "type": "string",
          "description": "Name of the food item."
        },
        "quantity": {
          "type": "number",
          "description": "Quantity of the food item."
        },
        "unit": {
            "type": "string",
            "description": "Unit of measurement for the quantity (e.g., kg, g, items)."
        },
        "storageLocation": {
          "type": "string",
          "description": "Location where the item is stored (fridge, freezer, pantry)."
        },
        "expiryDate": {
          "type": "string",
          "description": "Expiry date of the food item.",
          "format": "date-time"
        },
        "imageUrl": {
          "type": "string",
          "description": "URL of the image of the food item (if available).",
          "format": "uri"
        },
        "barcode": {
          "type": "string",
          "description": "Barcode of the item (if available)."
        }
      },
      "required": [
        "id",
        "userId",
        "name",
        "quantity",
        "unit",
        "storageLocation"
      ]
    },
    "ShoppingListItem": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ShoppingListItem",
      "type": "object",
      "description": "Represents an item on a shopping list.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the shopping list item."
        },
        "userId": {
          "type": "string",
          "description": "Reference to the User who owns this shopping list item."
        },
        "name": {
          "type": "string",
          "description": "Name of the item to buy."
        },
        "quantity": {
          "type": "number",
          "description": "Quantity of the item to buy."
        },
        "unit": {
            "type": "string",
            "description": "Unit of measurement for the quantity (e.g., kg, g, items)."
        },
        "isPurchased": {
          "type": "boolean",
          "description": "Indicates if the item has been purchased."
        }
      },
      "required": [
        "id",
        "userId",
        "name",
        "quantity",
        "unit",
        "isPurchased"
      ]
    },
    "WasteReductionTip": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "WasteReductionTip",
      "type": "object",
      "description": "Represents a tip for reducing food waste.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the waste reduction tip."
        },
        "tipText": {
          "type": "string",
          "description": "The text of the waste reduction tip."
        },
        "category": {
          "type": "string",
          "description": "Category of the tip (e.g., storage, preparation, consumption)."
        }
      },
      "required": [
        "id",
        "tipText",
        "category"
      ]
    },
    "UserWasteTipPreference": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "UserWasteTipPreference",
      "type": "object",
      "description": "Represents a user's preference for a specific waste reduction tip.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user waste tip preference."
        },
        "userId": {
          "type": "string",
          "description": "Reference to the User who has this preference. (Relationship: User 1:N UserWasteTipPreference)"
        },
        "wasteReductionTipId": {
          "type": "string",
          "description": "Reference to the WasteReductionTip this preference applies to. (Relationship: WasteReductionTip 1:N UserWasteTipPreference)"
        },
        "isPreferred": {
          "type": "boolean",
          "description": "Indicates if the user prefers this tip (e.g., shown more often)."
        }
      },
      "required": [
        "id",
        "userId",
        "wasteReductionTipId",
        "isPreferred"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous",
      "google.com"
    ]
  },
  "firestore": {
    "/users/{userId}": {
        "schema": {"$ref": "#/entities/User"},
        "description": "Stores user profile information."
    },
    "/users/{userId}/inventoryItems/{inventoryItemId}": {
        "schema": {"$ref": "#/entities/InventoryItem"},
        "description": "Stores inventory items for a specific user."
    },
    "/users/{userId}/shoppingListItems/{shoppingListItemId}": {
        "schema": {"$ref": "#/entities/ShoppingListItem"},
        "description": "Stores shopping list items for a specific user."
    },
    "/wasteReductionTips/{wasteReductionTipId}": {
        "schema": {"$ref": "#/entities/WasteReductionTip"},
        "description": "Stores global waste reduction tips."
    },
    "/users/{userId}/wasteTipPreferences/{wasteTipPreferenceId}": {
        "schema": {"$ref": "#/entities/UserWasteTipPreference"},
        "description": "Stores user preferences for waste reduction tips."
    }
  }
}
